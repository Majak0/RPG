(function(e){function t(t){for(var r,s,a=t[0],l=t[1],u=t[2],d=0,h=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(h.length)h.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var l=n[a];0!==i[l]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},i={app:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var c=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Town")],1)},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{"text-align":"center",width:"20%"}},[n("select",{on:{change:function(t){return e.selectPlayer(t.target.value)}}},e._l(e.players,(function(t,r){return n("option",{key:r},[e._v(e._s(t.name))])})),0)]),n("div",{staticStyle:{"text-align":"center",width:"80%"}},[n("h2",[e._v(e._s(e.currentTown.name))])])]),n("div",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{width:"50%"}},[n("ul",e._l(e.currentTown.streets,(function(t,r){return n("li",{key:r},[n("input",{attrs:{type:"radio",name:"street"},domProps:{value:t.name},on:{click:function(t){return e.selectStreet(t.target.value)}}}),e._v(e._s(t.name)+" ")])})),0)]),null!==e.currentStreet?n("div",{staticStyle:{width:"50%"}},[n("ul",e._l(e.currentStreet.shops,(function(t,r){return n("li",{key:r},[n("input",{attrs:{type:"radio",name:"shop"},domProps:{value:t.name},on:{click:function(t){return e.selectShop(t.target.value)}}}),e._v(e._s(t.name)+" ")])})),0)]):e._e()]),n("div",{staticStyle:{display:"flex"}},[null!==e.currentPlayer?n("div",{staticStyle:{width:"50%"}},[e._v(" "+e._s(e.currentPlayer.name+" | niveau "+e.currentPlayer.level+" | vie : "+e.currentPlayer.vitality)+" "),n("table",{attrs:{border:"1"}},e._l(e.currentPlayer.slots,(function(t,r){return n("tr",{key:r},[n("td",[e._v(" "+e._s(t.name)+" ")]),e._l(t.items,(function(t,r){return n("td",{key:r},[e._v(" [ "+e._s(r)+" ] - "+e._s(t.name)+" ")])}))],2)})),0),n("div",{staticStyle:{height:"20px"}}),n("div",[n("input",{attrs:{disabled:"disabled"},domProps:{value:e.currentPlayer.gold}})]),n("div",{staticStyle:{height:"20px"}}),n("div",[n("input",{attrs:{type:"text",readonly:"readonly"},domProps:{value:e.boughtItems}})]),n("div",[n("label",{attrs:{for:e.idxItemBought}},[e._v("index de l'item dans bought item : ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.idxItemBought,expression:"idxItemBought"}],attrs:{type:"text"},domProps:{value:e.idxItemBought},on:{input:function(t){t.target.composing||(e.idxItemBought=t.target.value)}}}),n("br"),n("label",{attrs:{for:e.idxSlotAssign}},[e._v("index du slot : ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.idxSlotAssign,expression:"idxSlotAssign"}],attrs:{type:"text"},domProps:{value:e.idxSlotAssign},on:{input:function(t){t.target.composing||(e.idxSlotAssign=t.target.value)}}})]),n("div",{staticStyle:{height:"20px"}}),n("div",[n("label",{attrs:{for:e.idxItemBuy}},[e._v("index de l'item à acheté : ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.idxItemBuy,expression:"idxItemBuy"}],attrs:{type:"text"},domProps:{value:e.idxItemBuy},on:{input:function(t){t.target.composing||(e.idxItemBuy=t.target.value)}}}),n("input",{attrs:{type:"submit",value:"buy"},on:{click:e.buy}})]),n("div",{staticStyle:{height:"20px"}}),n("div",[n("label",{attrs:{for:e.idxItemOrder}},[e._v("index de l'item à commander : ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.idxItemOrder,expression:"idxItemOrder"}],attrs:{type:"text"},domProps:{value:e.idxItemOrder},on:{input:function(t){t.target.composing||(e.idxItemOrder=t.target.value)}}}),n("input",{attrs:{type:"submit",value:"order"},on:{click:e.order}})]),n("div",{staticStyle:{height:"20px"}}),n("div",[n("label",{attrs:{for:e.idxItemSell}},[e._v("index de l'item à vendre dans le slot : ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.idxItemSell,expression:"idxItemSell"}],attrs:{type:"text"},domProps:{value:e.idxItemSell},on:{input:function(t){t.target.composing||(e.idxItemSell=t.target.value)}}}),n("br"),n("label",{attrs:{for:e.idxSlotSell}},[e._v("index du slot : ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.idxSlotSell,expression:"idxSlotSell"}],attrs:{type:"text"},domProps:{value:e.idxSlotSell},on:{input:function(t){t.target.composing||(e.idxSlotSell=t.target.value)}}}),n("input",{attrs:{type:"submit",value:"sell"},on:{click:e.sell}})])]):e._e(),null!==e.currentShop?n("div",{staticStyle:{width:"50%"}},[n("h2",[e._v(e._s(e.currentShop.name))]),n("div",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{width:"50%"}},[n("h4",[e._v("In stock")]),n("ol",e._l(e.currentShop.itemStock,(function(t,r){return n("li",{key:r},[e._v(e._s(t.name)+" : "+e._s(t.price)+"€")])})),0)]),n("div",{staticStyle:{width:"50%"}},[n("h4",[e._v("To order")]),n("ol",e._l(e.currentShop.itemOrder,(function(t,r){return n("li",{key:r},[e._v(e._s(t.name)+" : "+e._s(t.price)+"€")])})),0)])])]):e._e()])])},a=[],l=n("1da1"),u=(n("96cf"),n("d3b7"),n("159b"),n("b0c0"),n("c740"),n("2909")),c=n("d4ec"),d=n("bee2"),h=n("ade3");n("caad"),n("4de4"),n("2532"),n("a434"),n("7db0"),n("d81d");function p(e){return Math.floor(Math.random()*e)}var m=["helmet","crown","armor","clothes","weapon","lighter","purse","potion","spell","food"],f=[{slot:"head",limit:1,types:["helmet","crown"]},{slot:"body",limit:1,types:["armor","clothes"]},{slot:"hands",limit:2,types:["weapon","lighter"]},{slot:"belt",limit:3,types:["weapon","purse"]},{slot:"bag",limit:10,types:["helmet","crown","clothes","lighter","potion","spell","food","purse"]}],v=function(){function e(t,n,r,i){Object(c["a"])(this,e),e.counter++,this.id=e.counter,this.name=t,m.includes(n)?this.type=n:this.type="",this.price=r>=0?r:0,this.effect=i}return Object(d["a"])(e,null,[{key:"fromJSON",value:function(t){var n=new e(t.name,t.type,t.price,t.effect);return n.id=t.id,n}}]),e}();Object(h["a"])(v,"counter",0);var y=[new v("conic helmet","helmet",200,"A+10"),new v("great crown of apologia","crown",200,"A+20"),new v("band of joy","crown",100,"L+10"),new v("leather armor","armor",100,"A+10"),new v("broigne","armor",200,"A+20"),new v("hauberk","armor",500,"A+40"),new v("plate armor","armor",1e3,"A+60"),new v("tuxedo","clothes",600,"L+1"),new v("cursed swimsuit","clothes",10,"A-10"),new v("unicorn cosplay","clothes",200,"L+10"),new v("dagger","weapon",100,"S+5"),new v("cursed dagger","weapon",100,"S-5"),new v("short sword","weapon",200,"S+10"),new v("cursed short sword","weapon",200,"S-10"),new v("long sword","weapon",300,"S+20"),new v("cursed long sword","weapon",300,"S-20"),new v("axe","weapon",100,"S+10"),new v("cursed axe","weapon",100,"S-10"),new v("great axe","weapon",200,"S+20"),new v("cursed great axe","weapon",200,"S-20"),new v("torch","lighter",2,""),new v("oil lamp","lighter",10,""),new v("leather purse","purse",10,""),new v("protection potion","potion",100,"a+10"),new v("health potion","potion",100,"l+10"),new v("strength potion","potion",100,"s+10"),new v("fireball","spell",1e3,""),new v("ice cone","spell",1e3,""),new v("total healing","spell",1e3,""),new v("invisibility","spell",1e3,""),new v("levitation","spell",1e3,""),new v("apple","food",1,"l+1"),new v("chicken","food",10,"l+5"),new v("beef","food",15,"l+10"),new v("wine","food",2,"l+2")],w=function(){function e(t,n){Object(c["a"])(this,e),e.counter++,this.id=e.counter,this.name=t,this.itemCat=Object(u["a"])(n),this.itemStock=[],this.itemOrder=[],this.fillStock(),this.fillOrder()}return Object(d["a"])(e,[{key:"fillStock",value:function(){var e=this,t=[];t=y.filter((function(t){return e.itemCat.includes(t.type)}));for(var n=0;n<10;n++){var r=p(t.length);this.itemStock.push(t[r])}}},{key:"fillOrder",value:function(){var e=this,t=[];y.forEach((function(n){if(e.itemCat.includes(n.type)){for(var r=!1,i=0;i<e.itemStock.length;i++)if(e.itemStock[i].name===n.name){r=!0;break}r||t.push(n)}}));for(var n=0;n<5;n++){var r=p(t.length);if(this.itemOrder.push(t[r]),t.splice(r,1),0===t.length)break}}},{key:"estimate",value:function(e){if(!this.itemCat.includes(e.type))return-1;var t=p(91);return e.price*(10+t)/100}},{key:"buy",value:function(e){this.itemStock.push(e)}},{key:"sell",value:function(e){this.itemStock.splice(e,1)}},{key:"order",value:function(e){this.itemStock.push(this.itemOrder[e])}}],[{key:"fromJSON",value:function(t){var n=new e(t.name,t.itemCat);return n.id=t.id,n}}]),e}();Object(h["a"])(w,"counter",0);var S=function(){function e(t){Object(c["a"])(this,e),e.counter++,this.id=e.counter,this.name=t,this.shops=[]}return Object(d["a"])(e,[{key:"addShop",value:function(e){this.shops.push(e)}}],[{key:"fromJSON",value:function(t){var n=new e(t.name);return n.id=t.id,t.shops.forEach((function(e){return n.shops.push(w.fromJSON(e))})),n}}]),e}();Object(h["a"])(S,"counter",0);var g=function(){function e(t){Object(c["a"])(this,e),e.counter++,this.id=e.counter,this.name=t,this.streets=[]}return Object(d["a"])(e,[{key:"addStreet",value:function(e){this.streets.push(e)}}],[{key:"fromJSON",value:function(t){var n=new e(t.name);return n.id=t.id,t.streets.forEach((function(e){return n.streets.push(S.fromJSON(e))})),n}}]),e}();Object(h["a"])(g,"counter",0);var b=["helmet","armor","weapon"],x=["clothes","purse","food","lighter"],O=["crown","spell","potion"],_=["clothes","potion","weapon"],k=new w("Patty Smith",b),I=new w("I smith you",b),P=new w("Dingue de marteau",b),j=new S("Smith Street");j.addShop(k),j.addShop(I),j.addShop(P);var N=new w("My tailor is rich",x),A=new w("La grosse Erie",x),B=new w("Les Zoeurs",x),J=new S("Quality Street");J.addShop(N),J.addShop(A),J.addShop(B);var T=new w("Wizzz",O),E=new w("A Bric-a-brac dabra",O),M=new w("La bonne baguette",O),C=new S("Magic Street");C.addShop(T),C.addShop(E),C.addShop(M);var L=new w("Luis Withon",_),z=new w("Shop",_),$=new w("Coca Channel",_),D=new w("Guinguette",_),G=new S("Da Ghetto");G.addShop(L),G.addShop(z),G.addShop($),G.addShop(D);var R=new g("Metropolis");R.addStreet(j),R.addStreet(J),R.addStreet(C),R.addStreet(G);var W=function(){function e(t,n){Object(c["a"])(this,e),this.id=t,this.name=n,this.items=[]}return Object(d["a"])(e,null,[{key:"fromJSON",value:function(t){var n=new e(t.id,t.name);return t.items.forEach((function(e){return n.items.push(v.fromJSON(e))})),n}}]),e}(),Q=function(){function e(t,n){Object(c["a"])(this,e),e.counter++,this.id=e.counter,this.name=t,this.level=n,this.slots=[],this.slots.push(new W(1,"head")),this.slots.push(new W(2,"body")),this.slots.push(new W(3,"hands")),this.slots.push(new W(4,"belt")),this.slots.push(new W(5,"bag")),this.boughtItems=[],this.vitality=50*this.level,this.life=this.vitality,this.strength=20*this.level,this.armor=0,this.gold=450}return Object(d["a"])(e,[{key:"buy",value:function(e){return e.price>this.gold?"not enough gold":(this.boughtItems.push(e),this.gold-=e.price,"")}},{key:"assign",value:function(e,t){var n=this,r=this.boughtItems[e],i=f.find((function(e){return e.slot===n.slots[t].name}));return this.slots[t].items.length===i.limit?"slot "+this.slots[t].name+" is full":i.types.includes(r.type)?(this.boughtItems.splice(e,1),this.slots[t].items.push(r),""):"wrong item type ["+r.type+"] for slot "+this.slots[t].name}},{key:"sell",value:function(e,t,n){this.slots[e].items.splice(t,1),this.gold+=n}}],[{key:"fromJSON",value:function(t){var n=new e(t.name,t.level);return n.id=t.id,n.gold=t.gold,n.life=t.life,n.vitality=t.vitality,n.strength=t.strength,n.armor=t.armor,n.slots.splice(0),t.slots.forEach((function(e){return n.slots.push(W.fromJSON(e))})),n.boughtItems.splice(0),n.boughtItems=t.boughtItems.map((function(e){return v.fromJSON(e)})),n}}]),e}();Object(h["a"])(Q,"counter",0);var X=[new Q("Conan",1),new Q("Xena",2),new Q("Bertrand",420)];console.log(R);var Z={name:"Town",data:function(){return{players:X,currentTown:R,currentPlayer:X[0],currentStreet:null,currentShop:null,idxItemBuy:1,idxItemOrder:1,idxItemBought:1,idxSlotAssign:1,idxItemSell:1,idxSlotSell:1}},computed:{boughtItems:function(){var e="",t=0;return this.currentPlayer.boughtItems.forEach((function(n){e+="["+t+"] - "+n.name+" | ",t++})),e}},methods:{selectPlayer:function(e){var t=this;X.forEach((function(n){e===n.name&&(t.currentPlayer=n)}))},selectStreet:function(e){var t=this.currentTown.streets.findIndex((function(t){return t.name===e}));-1!==t&&(this.currentStreet=this.currentTown.streets[t],this.currentShop=this.currentStreet.shops[0])},selectShop:function(e){var t=this.currentStreet.shops.findIndex((function(t){return t.name===e}));-1!==t&&(this.currentShop=this.currentStreet.shops[t])},assign:function(){this.currentPlayer.assign(this.idxItemBought,this.idxSlotAssign)},buy:function(){this.currentPlayer.buy(this.currentShop.itemStock[this.idxItemBuy])},order:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.currentShop.order(e.idxItemOrder);case 1:case"end":return t.stop()}}),t)})))()},sell:function(){this.currentPlayer.sell(this.idxSlotSell,this.idxItemSell,10)}}},q=Z,F=n("2877"),H=Object(F["a"])(q,s,a,!1,null,null,null),K=H.exports,U={name:"App",components:{Town:K}},V=U,Y=Object(F["a"])(V,i,o,!1,null,null,null),ee=Y.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(ee)}}).$mount("#app")}});
//# sourceMappingURL=app.3c88e0d6.js.map